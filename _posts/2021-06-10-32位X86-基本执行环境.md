---
layout:     post
title:      "X86处理器体系架构"
subtitle:   "32位X86 基本执行环境"
header-img: "img/content/c-05.jpg"
header-mask: 0.2
tags:
    - 汇编语言基于X86
---



## 2.2.2 基本执行环境

### 1、地址空间

​		在32位保护模式下，任务或程序可以寻址线性地址空间，最高可达4GB。从P6处理器开始，一种称为扩展物理寻址的技术允许对总共64 GB的物理内存进行寻址。另一方面，实地址模式程序只能寻址1MB的范围。如果处理器处于保护模式，并且以虚拟8086模式运行多个程序，那么每个程序都有自己的1MB内存区。

### 2、基本执行寄存器

> 有8个通用寄存器，6个段寄存器，一个处理器状态标志寄存器(EFLAGS)和一个指令指针(EIP)。



- 通用寄存器：**EAX, EBX, ECX, EDX   ESI, EDI, EBP, ESP**
  - EAX被乘法和除法指令自动使用。它通常被称为扩展累加寄存器。
  - CPU自动使用ECX作为循环计数器。
  - ESI和EDI采用高速存储器传输指令。它们有时被称为扩展源变址寄存器和扩展目标变址寄存器。
  - ESP用于寻址堆栈(系统内存结构)数据。它很少用于普通的算术或数据传输。它通常被称为扩展堆栈指针寄存器。
  - EBP被高级语言用来引用函数参数和堆栈上的局部变量。除了高级编程，它不用于一般的算术或数据传输。它通常被称为扩展帧指针寄存器。
- 段寄存器：**CS, SS, DS   ES, FS, GS**  
  - 在实地址模式下，16位段寄存器表示预先分配的内存区域的基址，这个内存区域被称为段。
  - 在保护模式下，段寄存器保存指向段描述符表的指针。
  - 一些段保存程序指令(代码)，其他段保存变量(数据)，另一个名为堆栈段的段保存局部函数变量和函数参数。
- 指针寄存器：**EIP**
  - 指令指针寄存器包含下一条要执行指令的地址。某些机器指令操纵EIP，导致程序转移到一个新的位置。
- EFLAGS寄存器：**EFLAGS**
  - EFLAGS寄存器包涵了独立的二进制位，用于控制CPU操作或反映某些CPU操作结果。一些指令可以测试和控制这些单独的处理器标志。
  - 控制标志位
  - 状态标志位

### 3、MMX寄存器

​		MMX技术在实现高级多媒体和通信应用时提高了英特尔处理器的性能。8个64位MMX寄存器支持称为SIMD(单指令、多数据)的特殊指令。顾名思义，MMX指令对包含在MMX寄存器中的数据值进行并行操作。虽然它们看起来是独立的寄存器，但MMX寄存器名称实际上是浮点单元使用的相同寄存器的别名。

### 4、XMM寄存器

​	x86体系结构还包含8个称为XMM寄存器的128位寄存器。它们被用于指令集的SIMD扩展流。

​	浮点单元浮点单元(FPU)执行高速浮点运算。有一段时间，这需要一个单独的协处理器芯片。从Intel486开始，FPU已经集成到主处理器芯片中。FPU中有8个浮点数据寄存器，分别为ST(0)、ST(1)、ST(2)、ST(3)、ST(4)、ST(5)、ST(6)和ST(7)。