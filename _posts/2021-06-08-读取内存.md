---
layout:     post
title:      "X86处理器体系架构"
subtitle:   "读取内存，执行程序"
header-img: "img/content/c-02.jpg"
tags:
    - 汇编语言基于X86
---



## 2.1.3 读取内存



1. 将要读取的值的地址放在地址总线上。
2. 设置处理器的RD(读取)引脚的值。
3. 等待一个时钟周期来等待内存芯片的响应。
4. 将数据从数据总线复制到目标操作数。



以上每个步骤往往只需要一个时钟周期，对于CPU来说还是太慢了，访问寄存器往往只要一个时钟周期。

使用高速缓存（cache）来减少内存访问。cache缓存存储器一般分为两种：

一级缓存位于CPU，二级缓存位于数据总线。

缓存处理器使用静态RAM不需要刷新内存，动态RAM需要不断刷新内存。



## 2.1.4 加载并执行程序



1. 操作系统(OS)在当前磁盘目录中搜索程序的文件名。如果找不到，在预定目录列表(称为路径)下搜索文件名。如果OS找不到程序文件名，就会发出错误消息。
2. 如果程序文件被找到，OS就访问磁盘目录中程序文件的基本信息，包括文件大小及其在磁盘驱动器上的物理位置。
3. OS确定内存中的下一个可用位置，并将程序文件加载到内存中。它为程序分配一块内存，并将程序大小和位置信息加入表中（descriptor table），此外，OS可能调整程序内指针的值，使它们包含程序数据的地址。
4. OS开始执行程序的第一个机器指令(程序入口)。就当程序开始运行时，它被称为进程。OS给进程分配一个标识号(进程ID)，用于在运行时跟踪它。
5. 进程自行运行。OS的工作就是跟踪进程的执行并响应对系统资源的请求。资源包括内存、磁盘文件和输入输出设备。
6. 当进程结束时，将其从内存中删除。

